import{r as F,p as y,o as _,a as s,c as l,t as c,b as f,d as i,n as o,e as I,F as u,f as b,g as k}from"./index-DkF6EryF.js";const L={class:"score"},w=["src"],B={class:""},D=["id"],x=["id"],$={__name:"game",setup(E){const t=F({personImg:y,interval:null,addDataInterval:null,moveInterval:null,score:0,bottom:6,left:50,dataList:[],overFlag:!1,animation:"auto",showStartBtn:!0,num:document.documentElement.clientHeight/3.7,width:document.documentElement.clientWidth,flag:!1,jumpInterval:null});function m(){d(),t.addDataInterval=setInterval(()=>{t.dataList.length<=10?d():clearInterval(t.addDataInterval)},2e3)}function d(){let a=["#ff0000","#068bfb","#800080","#FFA500","#00ff00","#0000FF","#00ffff","#754c0c","#b27787","#FFFF00"],e=t.dataList.length;t.dataList.push({height:r(30,80),left:100,color:a[r(0,9)]||"#FFA500",id:"p"+e,type:r(0,2)==1?"wood":"brick"})}function p(){if(!t.flag){const a=document.getElementById("person");t.flag=!0,a.addEventListener("animationend",()=>{t.flag=!1},{once:!0})}}function g(){let a=t.width>1e3?80:30;t.interval=setInterval(()=>{t.dataList=t.dataList.map(e=>(e.left=e.left-1,e)).filter(e=>{if(e.left==2&&t.score++,e.left>=-30)return!0}),t.overFlag},a)}function h(){t.dataList=[],t.score=0,t.showStartBtn=!1;let a=t.width>1e3?15:6.5;t.animation="scrollRight ".concat(a,"s linear infinite"),t.personImg=k,t.overFlag=!1,m(),g()}function r(a,e){return Math.floor(Math.random()*(e-a))+a}return _(()=>{}),(a,e)=>(s(),l("div",{class:"game-container",style:o({"--animation":t.animation,"--num":"-"+t.num+"px","--num2":t.num+"px"})},[t.showStartBtn?(s(),l("button",{key:0,class:"startBtn",onClick:e[0]||(e[0]=n=>h())},c(t.score>0?"重新开始":"开始"),1)):f("",!0),t.showStartBtn?f("",!0):(s(),l("button",{key:1,class:"btn",onClick:e[1]||(e[1]=n=>p())},"跳")),i("span",L,"得分："+c(t.score),1),i("img",{id:"person",style:o({"--left":t.left+"px"}),class:I({jumping:t.flag}),src:t.personImg},null,14,w),i("div",B,[(s(!0),l(u,null,b(t.dataList,(n,v)=>(s(),l(u,{key:v},[n.type=="wood"?(s(),l("div",{key:0,class:"mu",id:n.id,style:o("height: ".concat(n.height,"px;left: ").concat(n.left,"%;"))},null,12,D)):(s(),l("div",{key:1,class:"zhuan",id:n.id,style:o("left: ".concat(n.left,"%;"))},null,12,x))],64))),128))])],4))}};export{$ as default};
